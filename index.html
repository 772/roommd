<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>RoomMD</title>
		<style>
			body {
				background-color: #000;
			}
			* {
				margin: 0;
				padding: 0;
			}
			button {
				background-color: #04AA6D;
				border: none;
				color: white;
				height: 4vh;
				padding: 0px 2vh;
				text-align: center;
				text-decoration: none;
				display: inline-block;
				font-size: 2vh;
				cursor: pointer;
				border-radius: 0.5vh;
			  }
			  button:hover {
				  color: #eee;
			  }
		</style>
    </head>
    <body>
		<canvas style="background-color:black;height:98vh;width:100%" id="mygame-canvas"></canvas>
		<button style="position:absolute;top:2vh;left:50%;" onclick="window.location.reload()"><b>RUN &#9654;</b></button>
		<button style="position:absolute;top:2vh;right:2%;background-color:blue;" onclick="document.location='https://github.com/772/roommd'" style="float:right;background-color:black"><b>Git Repository</b></button></div>
		<textarea
		id="input"
		style="
		line-height: 1;
		background-color: rgb(255 255 255 / 0.5);
		width:48%;
		height:90vh;
		outline: none;
		position: absolute;
		top: 7vh;
		left: 50%;
		"
		></textarea>
        <script type="module">
            const inputElement = document.getElementById("input");
            if (inputElement.value.trim() === "") {
                fetch("example.md")
                    .then((response) => {
                        if (!response.ok) {
                            throw new Error("File not found or network error");
                        }
                        return response.text();
                    })
                    .then((text) => {
                        inputElement.value = text;
                    })
                    .catch((error) => {
                        console.error("Error:", error);
                        inputElement.value = `Failed to load file: ${error.message}`;
                    });
            }
            import init from "./wasm.js";
            init().catch((error) => {
                if (
                    !error.message.startsWith(
                        "Using exceptions for control flow, don't mind me. This isn't actually an error!",
                    )
                ) {
                    throw error;
                }
            });
        </script>
    </body>
</html>
